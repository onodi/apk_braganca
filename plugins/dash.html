<html style="height: auto; min-height: 100%;">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Transitabile</title>
  <!-- Tell the browser to be responsive to screen width -->
  <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">


  <!--    <script src="moment-with-locales.js"></script>-->
  <script src="easytimer.min.js"></script>
  <script src="easytimer.js"></script>
  <!-- Bootstrap 3.3.7 -->
  <link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.min.css">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="bower_components/font-awesome/css/font-awesome.min.css">
  <!-- Ionicons -->
  <link rel="stylesheet" href="bower_components/Ionicons/css/ionicons.min.css">
  <!-- Theme style -->
  <link rel="stylesheet" href="dist/css/AdminLTE.min.css">
  <link rel="stylesheet" href="dist/css/skins/_all-skins.min.css">
  <!-- Morris chart -->
  <link rel="stylesheet" href="bower_components/morris.js/morris.css">
  <!-- jvectormap -->
  <link rel="stylesheet" href="bower_components/jvectormap/jquery-jvectormap.css">
  <!-- Date Picker -->
  <link rel="stylesheet" href="bower_components/bootstrap-datepicker/dist/css/bootstrap-datepicker.min.css">
  <!-- Daterange picker -->
  <link rel="stylesheet" href="bower_components/bootstrap-daterangepicker/daterangepicker.css">
  <!-- bootstrap wysihtml5 - text editor -->
  <link rel="stylesheet" href="plugins/bootstrap-wysihtml5/bootstrap3-wysihtml5.min.css">

  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->


  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700,300italic,400italic,600italic">
  <style type="text/css">
    .jqstooltip {
      position: absolute;
      left: 0px;
      top: 0px;
      visibility: hidden;
      background: rgb(0, 0, 0) transparent;
      background-color: rgba(0, 0, 0, 0.6);
      filter: progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);
      -ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";
      color: white;
      font: 10px arial, san serif;
      text-align: left;
      white-space: nowrap;
      padding: 5px;
      border: 1px solid white;
      box-sizing: content-box;
      z-index: 10000;
    }

    .jqsfield {
      color: white;
      font: 10px arial, san serif;
      text-align: left;
    }
  </style>
  <style type="text/css">
    .jqstooltip {
      position: absolute;
      left: 0px;
      top: 0px;
      visibility: hidden;
      background: rgb(0, 0, 0) transparent;
      background-color: rgba(0, 0, 0, 0.6);
      filter: progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);
      -ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";
      color: white;
      font: 10px arial, san serif;
      text-align: left;
      white-space: nowrap;
      padding: 5px;
      border: 1px solid white;
      box-sizing: content-box;
      z-index: 10000;
    }

    .jqsfield {
      color: white;
      font: 10px arial, san serif;
      text-align: left;
    }
  </style>
  <style type="text/css">
    .jqstooltip {
      position: absolute;
      left: 0px;
      top: 0px;
      visibility: hidden;
      background: rgb(0, 0, 0) transparent;
      background-color: rgba(0, 0, 0, 0.6);
      filter: progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);
      -ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";
      color: white;
      font: 10px arial, san serif;
      text-align: left;
      white-space: nowrap;
      padding: 5px;
      border: 1px solid white;
      box-sizing: content-box;
      z-index: 10000;
    }

    .jqsfield {
      color: white;
      font: 10px arial, san serif;
      text-align: left;
    }
  </style>
  <style type="text/css">
    .jqstooltip {
      position: absolute;
      left: 0px;
      top: 0px;
      visibility: hidden;
      background: rgb(0, 0, 0) transparent;
      background-color: rgba(0, 0, 0, 0.6);
      filter: progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);
      -ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";
      color: white;
      font: 10px arial, san serif;
      text-align: left;
      white-space: nowrap;
      padding: 5px;
      border: 1px solid white;
      box-sizing: content-box;
      z-index: 10000;
    }

    .jqsfield {
      color: white;
      font: 10px arial, san serif;
      text-align: left;
    }
  </style>
  <style type="text/css">
    .jqstooltip {
      position: absolute;
      left: 0px;
      top: 0px;
      visibility: hidden;
      background: rgb(0, 0, 0) transparent;
      background-color: rgba(0, 0, 0, 0.6);
      filter: progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);
      -ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";
      color: white;
      font: 10px arial, san serif;
      text-align: left;
      white-space: nowrap;
      padding: 5px;
      border: 1px solid white;
      box-sizing: content-box;
      z-index: 10000;
    }

    .jqsfield {
      color: white;
      font: 10px arial, san serif;
      text-align: left;
    }
  </style>
  <style type="text/css">
    .jqstooltip {
      position: absolute;
      left: 0px;
      top: 0px;
      visibility: hidden;
      background: rgb(0, 0, 0) transparent;
      background-color: rgba(0, 0, 0, 0.6);
      filter: progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);
      -ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";
      color: white;
      font: 10px arial, san serif;
      text-align: left;
      white-space: nowrap;
      padding: 5px;
      border: 1px solid white;
      box-sizing: content-box;
      z-index: 10000;
    }

    .jqsfield {
      color: white;
      font: 10px arial, san serif;
      text-align: left;
    }
  </style>
  <style type="text/css">
    .jqstooltip {
      position: absolute;
      left: 0px;
      top: 0px;
      visibility: hidden;
      background: rgb(0, 0, 0) transparent;
      background-color: rgba(0, 0, 0, 0.6);
      filter: progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);
      -ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";
      color: white;
      font: 10px arial, san serif;
      text-align: left;
      white-space: nowrap;
      padding: 5px;
      border: 1px solid white;
      box-sizing: content-box;
      z-index: 10000;
    }

    .jqsfield {
      color: white;
      font: 10px arial, san serif;
      text-align: left;
    }
  </style>
  <style type="text/css">
    .jqstooltip {
      position: absolute;
      left: 0px;
      top: 0px;
      visibility: hidden;
      background: rgb(0, 0, 0) transparent;
      background-color: rgba(0, 0, 0, 0.6);
      filter: progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);
      -ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";
      color: white;
      font: 10px arial, san serif;
      text-align: left;
      white-space: nowrap;
      padding: 5px;
      border: 1px solid white;
      box-sizing: content-box;
      z-index: 10000;
    }

    .jqsfield {
      color: white;
      font: 10px arial, san serif;
      text-align: left;
    }
  </style>
  <style type="text/css">
    .jqstooltip {
      position: absolute;
      left: 0px;
      top: 0px;
      visibility: hidden;
      background: rgb(0, 0, 0) transparent;
      background-color: rgba(0, 0, 0, 0.6);
      filter: progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);
      -ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";
      color: white;
      font: 10px arial, san serif;
      text-align: left;
      white-space: nowrap;
      padding: 5px;
      border: 1px solid white;
      box-sizing: content-box;
      z-index: 10000;
    }

    .jqsfield {
      color: white;
      font: 10px arial, san serif;
      text-align: left;
    }
  </style>
  <style type="text/css">
    .jqstooltip {
      position: absolute;
      left: 0px;
      top: 0px;
      visibility: hidden;
      background: rgb(0, 0, 0) transparent;
      background-color: rgba(0, 0, 0, 0.6);
      filter: progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);
      -ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";
      color: white;
      font: 10px arial, san serif;
      text-align: left;
      white-space: nowrap;
      padding: 5px;
      border: 1px solid white;
      box-sizing: content-box;
      z-index: 10000;
    }

    .jqsfield {
      color: white;
      font: 10px arial, san serif;
      text-align: left;
    }
  </style>
  <style type="text/css">
    .jqstooltip {
      position: absolute;
      left: 0px;
      top: 0px;
      visibility: hidden;
      background: rgb(0, 0, 0) transparent;
      background-color: rgba(0, 0, 0, 0.6);
      filter: progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);
      -ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";
      color: white;
      font: 10px arial, san serif;
      text-align: left;
      white-space: nowrap;
      padding: 5px;
      border: 1px solid white;
      box-sizing: content-box;
      z-index: 10000;
    }

    .jqsfield {
      color: white;
      font: 10px arial, san serif;
      text-align: left;
    }
  </style>
  <style type="text/css">
    .jqstooltip {
      position: absolute;
      left: 0px;
      top: 0px;
      visibility: hidden;
      background: rgb(0, 0, 0) transparent;
      background-color: rgba(0, 0, 0, 0.6);
      filter: progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);
      -ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";
      color: white;
      font: 10px arial, san serif;
      text-align: left;
      white-space: nowrap;
      padding: 5px;
      border: 1px solid white;
      box-sizing: content-box;
      z-index: 10000;
    }

    .jqsfield {
      color: white;
      font: 10px arial, san serif;
      text-align: left;
    }
  </style>
  <style type="text/css">
    .jqstooltip {
      position: absolute;
      left: 0px;
      top: 0px;
      visibility: hidden;
      background: rgb(0, 0, 0) transparent;
      background-color: rgba(0, 0, 0, 0.6);
      filter: progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);
      -ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";
      color: white;
      font: 10px arial, san serif;
      text-align: left;
      white-space: nowrap;
      padding: 5px;
      border: 1px solid white;
      box-sizing: content-box;
      z-index: 10000;
    }

    .jqsfield {
      color: white;
      font: 10px arial, san serif;
      text-align: left;
    }
  </style>
</head>

<body class="skin-green sidebar-mini wysihtml5-supported sidebar-closed" style="height: auto; min-height: 100%;">
  <script>
    var timerInstance = new Timer();
  </script>
  <div class="wrapper" style="height: auto; min-height: 100%;">
    <header class="main-header">
      <!-- Logo -->
      <a href="dash.html" class="logo">
        <!-- mini logo for sidebar mini 50x50 pixels -->
        <span class="logo-mini">
          <b>t</b>
        </span>
        <!-- logo for regular state and mobile devices -->
        <span class="logo-lg">transitabile</span>
      </a>
      <!-- Header Navbar: style can be found in header.less -->
      <nav class="navbar navbar-static-top">
        <!-- Sidebar toggle button-->
        <a href="#" class="sidebar-toggle" data-toggle="push-menu" role="button">
          <span class="sr-only">Toggle navigation</span>
        </a>
      </nav>
    </header>
    <aside class="main-sidebar">
      <section class="sidebar" style="height: auto;">
        <ul class="sidebar-menu tree" data-widget="tree">
          <li class="header">MENU</li>

          <li>
            <a href="dash.html">
              <i class="fa fa-home"></i>
              <span>Início</span>

            </a>

          </li>

          <li>
            <a href="profile.html">
              <i class="fa fa-user"></i>
              <span>Perfil</span>

            </a>

          </li>

          <li>
            <a href="search.html">
              <i class="fa fa-search"></i>
              <span>Procurar Vaga</span>

            </a>

          </li>

          <li>
            <a href="vehicles.html">
              <i class="fa fa-car"></i>
              <span>Meus Veículos</span>

            </a>

          </li>
          <li>
            <a href="history.html">
              <i class="fa fa-history"></i>
              <span>Histórico</span>

            </a>

          </li>

          <li>
            <a href="configs.html">
              <i class="fa fa-cog"></i>
              <span>Configurações</span>

            </a>

          </li>
          <li>
            <a href="support.html">
              <i class="fa fa-support"></i>
              <span>Suporte</span>
            </a>
          </li>


          <li>
            <a href="contact.html">
              <i class="fa fa-envelope"></i>
              <span>Contato</span>
            </a>
          </li>



          <li>
            <a href="javascript:logout()">
              <i class="fa fa-share-square-o"></i>
              <span>Logout</span>

            </a>

          </li>
        </ul>
      </section>
    </aside>
    <div class="content-wrapper" style="min-height: 853px;">
      <section class="content-header">
        <h1>Bem-vindo!
          <small>Painel de Controle</small>
        </h1>
      </section>
      <section class="content">
        <div class="row">
          <div class="col-lg-3 col-xs-6">
            <div id="boxPark" style="cursor:pointer" class="small-box bg-aqua">
              <div class="inner">
                <h3>Estacionar</h3>
                <p>Estacione agora</p>
              </div>
              <div class="icon" style="margin-top: -2.15vh;">
                <b>E</b>
              </div>
              <a href="search.html" class="small-box-footer">Acessar
                <i class="fa fa-arrow-circle-right"></i>
              </a>
            </div>
          </div>
          <div class="col-lg-3 col-xs-6">
            <div id="boxCredits" style="cursor:pointer" class="small-box bg-green">
              <div class="inner">
                <h3 id="balanceValue">R$ 0</h3>
                <p>Seus Créditos</p>
              </div>
              <div class="icon" style="margin-top: -2.2vh;">
                <b>$</b>
              </div>
              <a href="deposit.html" class="small-box-footer">Saldo
                <i class="fa fa-arrow-circle-right"></i>
              </a>
            </div>
          </div>
          <div class="col-lg-3 col-xs-6">
            <div id="boxVehicles" style="cursor:pointer" class="small-box bg-yellow">
              <div class="inner">
                <h3>Veículos</h3>
                <p>Meus Veículos</p>
              </div>
              <div class="icon">
                <i class="fa fa-car"></i>
              </div>
              <a href="vehicles.html" class="small-box-footer">Lista
                <i class="fa fa-arrow-circle-right"></i>
              </a>
            </div>
          </div>
          <div class="col-lg-3 col-xs-6">
            <div id="boxProfile" style="cursor:pointer" class="small-box bg-red">
              <div class="inner">
                <h3>Perfil</h3>

                <p>Meu Perfil</p>
              </div>
              <div class="icon">
                <i class="fa fa-user"></i>
              </div>
              <a href="profile.html" class="small-box-footer">Editar
                <i class="fa fa-arrow-circle-right"></i>
              </a>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-12">
            <div class="box">
              <div class="box-header">
                <!--                    <h3 class="box-title">Estacionamento</h3>-->
              </div>
              <div class="box-body table-responsive no-padding">
                <table class="table table-hover">
                  <center>
                    <thead>
                      <tr>
                        <th style="text-align:left;">Veículo - Placa</th>
                        <th style="text-align:center;">Status</th>
                        <th style="text-align:center;">Ações</th>
                        <th style="text-align:center;">Entrada</th>
                        <th style="text-align:center;">Saída</th>
                        <!--                                <th style="text-align:center;">Restante</th>-->
                      </tr>
                    </thead>

                    <tbody id="vehiclesList" style="text-align:center;">
                      <tr role="row" class="even">
                        <td class="sorting_1">Sem veículos cadastrados</td>
                      </tr>
                    </tbody>
                  </center>
                </table>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
        </div>

      </section>
    </div>
    <footer class="main-footer" style="font-size:13px">
      <div class="pull-right hidden-xs">
        <b>Versão</b> 3.1.0
      </div>
      PREFEITURA MUNICIPAL DE BRAGANÇA PAULISTA
      <br> Secretaria Municipal de Mobilidade Urbana
      <br> http://www.braganca.sp.gov.br
      <br>
      <br>
      <br> Transitabile Sistema de Controle de Vagas Automotivas Ltda
      <br> CNPJ: 28.729.743/0001-16
      <br> www.transitabile.com.br
      <br> contato@transitabile.com.br
    </footer>
    <div class="control-sidebar-bg"></div>
  </div>
  <script src="bower_components/jquery/dist/jquery.min.js"></script>
  <script src="bower_components/jquery-ui/jquery-ui.min.js"></script>
  <script>

    var hora_agora, minuto_agora, horario_agora;

    $.widget.bridge('uibutton', $.ui.button);
    var id = window.localStorage.getItem("id");
    if (id == null) {
      window.location.href = "index.html";
    } else {
      var type = window.localStorage.getItem("type");
      if (type == null) {
        window.location.href = "index.html";
      } else {
        if (type == "user" || type == "admin") {
          //            ESPACO PARA A AREA ADMINISTRATIVA
        } else {
          if (type == "fiscal") {
            window.location.href = "dashFiscal.html";
          } else {
            window.location.href = "index.html";
          }
        }
      }
      $("#balanceValue").html("R$ " + window.localStorage.getItem("balance"));
    }


    //    http://transitabile.com.br/api.php?userid=1&type=reportvehicle&plate=PVD5247
    //var requestURL = 'https://transitabile.com.br/api.php?userid=' + window.localStorage.getItem( "id" ) + '&type=getvehicles';


    //    class Relogio {   
    //        
    //        
    //        constructor(_i,_date,_idtd) {
    //            this.id = _i;
    //            this._date = _date;
    //            this._idtd = _idtd;
    //        }
    //        
    //        get cronometro(){
    //            
    //            return this.funcaocronaometro(this.id, this._date,this._idtd);
    //        }
    //        
    //        funcaocronaometro(_id, _datacompleta, _idtd){
    //            var countDownDate = new Date(_datacompleta).getTime(); 
    ////            console.log(new Date(_datacompleta).getTime());
    //            var divx = document.createElement('div');
    ////            console.log(_id);
    //            var iddiv = "clock_final_" + _id;
    ////            console.log(iddiv);
    //            var iddivpai = _idtd;
    //            console.log(iddivpai);
    ////            var iddivpai = "crono_" + _id;
    //            divx.id = iddiv;
    //            // Update the count down every 1 second
    //            var x = setInterval(function() {
    //
    //              // Get todays date and time
    //                var now = new Date().getTime();
    //            
    //
    //              // Find the distance between now and the count down date
    //                var distance = countDownDate - now;
    ////console.log(">>>>"+distance);
    //              // Time calculations for days, hours, minutes and seconds
    //                var days = Math.floor(distance / (1000 * 60 * 60 * 24));
    //                var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
    //                var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
    //                var seconds = Math.floor((distance % (1000 * 60)) / 1000);
    //
    //              // Display the result in the element with id="demo"
    ////              document.getElementById('"clock_final_' + this.id + '"').innerHTML = days + "d " + hours + "h "
    //                
    //                
    //                
    ////              document.getElementById('"clock_final_'+this.id+'"').innerHTML = hours + "h " + minutes + "m ";
    //                hours<10?hours = "0"+hours:hours;
    //                minutes<10?minutes = "0"+minutes:minutes;
    //                divx.innerHTML = hours + " : " + minutes + " : " + seconds;
    //                
    //              
    //
    //              // If the count down is finished, write some text 
    //                if (distance < 0) {
    //                    clearInterval(x);
    ////                document.getElementById('"clock_final_' + this.id + '"').innerHTML = "EXPIROU";
    //                    divx.innerHTML = "EXPIROU";
    //                   
    //                }
    //            }, 1000);
    //            
    //            
    //            document.getElementById(iddivpai).appendChild(divx);
    ////            $('"#'+iddivpai+'"').html(divx);
    ////            x;
    //        }
    //        
    //        
    //        
    //    };

    /**function crono(){
            var countDownDate = new Date("2018-09-04 11:50:00").getTime();

            
            
            
            
            var div = document.createElement('div');
//            div.id = '"clock_final_' + this.id + '"';
            div.id = "puff";
            // Update the count down every 1 second
            var x = setInterval(function() {

              // Get todays date and time
              var now = new Date().getTime();

              // Find the distance between now and the count down date
              var distance = countDownDate - now;

              // Time calculations for days, hours, minutes and seconds
              var days = Math.floor(distance / (1000 * 60 * 60 * 24));
              var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
              var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
              var seconds = Math.floor((distance % (1000 * 60)) / 1000);

              // Display the result in the element with id="demo"
              document.getElementById("puff").innerHTML = days + "d " + hours + "h "
//              document.getElementById('"clock_final_' + this.id + '"').innerHTML = days + "d " + hours + "h "
                
                
                
//              document.getElementById('"clock_final_'+this.id+'"').innerHTML = hours + "h " + minutes + "m ";
              div.innerHTML = hours + "h " + minutes + "m ";

              // If the count down is finished, write some text 
              if (distance < 0) {
                clearInterval(x);
                document.getElementById("puff").innerHTML = "EXPIRED";
//                document.getElementById('"clock_final_' + this.id + '"').innerHTML = "EXPIRED";
              }
            }, 1000);
            
            
            document.getElementById('crono').appendChild(div);
//            $('#crono').html(div);
            
        }**/



    function confereticket(_idVehicle) {
      //    var requestURL = 'https://transitabile.com.br/api.php?vehicleid=' + _idVehicle + '&type=gettickets';
      var requestURLx = 'https://transitabile.com.br/api.php?vehicleid=' + _idVehicle + '&type=gettic';
      $.ajax({
        url: requestURLx, type: 'GET', success: function (data) {
          var response = $.parseJSON(data);
          if (response.status == "failed") {
            //                alert ( "nao foi dessa vez" );
            console.log("nao foi dessa vez");
            console.log(response);
            //                alert ( response.message );
          }
          if (response.status == "success") {
            if (response.results <= 0) {
              //                var newVehicle = '<tr role="row" class="even"><td class="sorting_1">Nenhum veículo cadastrado</td></tr>';
              //                $("#vehiclesList").html( newVehicle );
              console.log("sem tickets");
            } else {

//              for (var i = 0; i < response.list.length; i++) {
//                response.list[i].type;
//
//              }
              console.log(response);
                return response;

            }
          }

        }
      });

    }


    var requestURL_b = 'https://transitabile.com.br/t_bp/api/api.php?userid=' + window.localStorage.getItem("id") + '&type=getvehicles';
    //var requestURL = 'https://transitabile.com.br/t_bp/api/api.php?userid=' + id + '&type=getvehiclesfull';  
    //    location.href= requestURL_b;
    //    console.log(window.localStorage.getItem( "id" ));
    $.ajax({
      url: requestURL_b, type: 'GET', success: function (data) {
        var response = $.parseJSON(data);
        if (response.status == "failed") {
          alert(response.message);
        }
        if (response.status == "success") {
          if (response.results <= 0) {
            var newVehicle = '<tr role="row" class="even"><td class="sorting_1">Nenhum veículo cadastrado</td></tr>';
            $("#vehiclesList").html(newVehicle);
          } else {
            var listContent = "";
            var testeRelogio = [];
            //                    recebe do bd
            var hfim = []; //hora final do ticket
            var mfim = []; //minuto final do ticket               
            var horarioFim = [];  //concatenação do horario de saida

            var hentrada = [];  //hora de entrada do ticket
            var mentrada = [];  //minuto de entrada do ticket
            var horarioEntrada = [];  //concatenação do horario de entrada   


            /**    PARA TESTE - RECEBENDO DO BANCO
                *************************************    **/
            //                VALORES INSTANCIADOS NO FOR ABAIXO
            hfim[0] = 18;   //bd
            hfim[1] = 19;   //bd
            hfim[2] = 20;   //bd

            mfim[0] = 10;   //bd
            mfim[1] = 30;   //bd
            mfim[2] = 40;   //bd

            hentrada[0] = 15;   //bd
            hentrada[1] = 16;   //bd
            hentrada[2] = 17;   //bd

            mentrada[0] = 40;   //bd
            mentrada[1] = 50;   //bd
            mentrada[2] = 00;   //bd
            //                ______________________________________________

            /**************************************************************
             $list[] = array('id' => $row["vehicles.id"], 'userid' => $row["vehicles.user_id"], 'type' => $row["vehicles.type"], 'name' => $row["vehicles.name"], 'plate' => $row["vehicles.plate"], 'model' => $row["vehicles.model"], 'status' => $row["vehicles.status"], 'created' => $row["vehicles.created"], 'modified' => $row["vehicles.modified"], 'ticketid' => $row["tickets.id"], 'ticketuserid' => $row["tickets.user_id"], 'ticketvehicleid' => $row["tickets.vehicle_id"], 'ticketparklotid' => $row["tickets.parklot_id"], 'tickettypeid' => $row["tickets.type"], 'ticketvalueid' => $row["tickets.value"], 'tickettotalvalueid' => $row["tickets.total_value"], 'ticketstatusid' => $row["tickets.status"], 'ticketiniciohorarioid' => $row["tickets.iniciohorario"], 'ticketfimhorarioid' => $row["tickets.fimhorario"], 'tickettempopermanenciaid' => $row["tickets.tempopermanencia"]);
             **************************************************************/
            //                console.log(response.list);
            for (var i = 0; i < response.list.length; i++) {

              //                    window.localStorage.setItem("vehicles", response.list.id);
              if (hentrada[i] != null) {
                mfim[i] < 10 ? mfim[i] = "0" + mfim[i] : mfim[i] = mfim[i];
                hfim[i] < 10 ? hfim[i] = "0" + hfim[i] : hfim[i] = hfim[i];
                horarioFim[i] = hfim[i] + ":" + mfim[i];

                mentrada[i] < 10 ? mentrada[i] = "0" + mentrada[i] : mentrada[i] = mentrada[i];
                hentrada[i] < 10 ? hentrada[i] = "0" + hentrada[i] : hentrada[i] = hentrada[i];
                horarioEntrada[i] = hentrada[i] + ":" + mentrada[i];
              } else {
                //                        console.log("sem tickets");
              }
              var id_vehicle = response.list[i].id;
              var statusV = "";
                
                
               var ccc = confereticket(response.list[i]);
            console.log(response.list[i]);  




              if (response.list[i].status == "idle") {


                statusV = '<span class="label label label-info" >Sem Uso</span>';
                var newVehicle = '<tr role="row" class="even"><td class="" style="width:25%;text-align:left;">' + response.list[i].model.toUpperCase() + ' - ' + response.list[i].plate.toUpperCase() + '</td><td class="" style="width:12%;">' + statusV + '</td><td class="" style="width:48%; text-align:center;"><div class="btn-group" style="text-align:center;"><a href="editCar.html" ><button type="button" class="btn btn-default btn-flat" >Estacionar</button></a><a href="editCar.html" ><button type="button" class="btn btn-default btn-flat">Comprar Ticket</button></a></div></td><td class="" style="width:10%;"><div>--:--</div></td><td class="" style="width:10%;">--:--</td></tr>';
                listContent = listContent + newVehicle;

              }

              if (response.list[i].status == "irregular") {


                statusV = '<span class="label label-danger">Tempo Esgotado</span></td>';
                var newVehicle = '<tr role="row" class="even"><td  style="width:25%;text-align:left;">' + response.list[i].model.toUpperCase() + ' - ' + response.list[i].plate.toUpperCase() + '</td>   <td  style="width:12%;">' + statusV + '<td  style="width:48%; text-align:center;"><div class="btn-group"  style="text-align:center;"><a href="editCar.html"><button type="button" class="btn btn-default btn-flat">Renovar</button></a><a href="editCar.html"><button type="button" class="btn btn-default btn-flat">Comprar Ticket</button></a></div></td><td class="" style="width:10%;" >' + horarioEntrada[i] + '</td><td class="" style="width:10%;"><div  >' + horarioFim[i] + '</div></td></tr>';
                listContent = listContent + newVehicle;

              }

              if (response.list[i].status == "regular") {




                //                        "Set 4, 2018 18:37:25"  ---> RECEBE DO BANCO  ---> TIMEDATE

                //                        var timedate_saida = "2018-09-05 04:00:00";
                //                        
                //                        var tdidcrono = "crono_" + i;
                //                        console.log(tdidcrono);

                //                        testeRelogio[i] = new Relogio(i, timedate_saida, tdidcrono);
                statusV = '<span class="label label-success">Estacionado</span></td>';
                //                        var newVehicle = '<tr role="row" class="even"><td  style="width:25%;text-align:left;">' + response.list[ i ].model  + ' - ' + response.list[ i ].plate + '</td>   <td  style="width:12%;">' + statusV  + '<td  style="width:38%; text-align:center;"><div class="btn-group"><a href="editCar.html"><button type="button" class="btn btn-default btn-flat">Renovar</button></a><a href="editCar.html"><button type="button" class="btn btn-default btn-flat">Comprar Ticket</button></a></div></td><td class="" style="width:10%;">'+ horarioEntrada[i] +'</td><td class="" style="width:10%;"><div >'+horarioFim[i]+'</div></td> <td id ='+tdidcrono+' class="crono" style="width:10%;">...Carregando</td></tr>';

                var newVehicle = '<tr role="row" class="even"><td  style="width:25%;text-align:left;">' + response.list[i].model.toUpperCase() + ' - ' + response.list[i].plate.toUpperCase() + '</td>   <td  style="width:12%;">' + statusV + '<td  style="width:38%; text-align:center;"><div class="btn-group"><a href="editCar.html"><button type="button" class="btn btn-default btn-flat">Renovar</button></a><a href="editCar.html"><button type="button" class="btn btn-default btn-flat">Comprar Ticket</button></a></div></td><td class="" style="width:10%;">' + horarioEntrada[i] + '</td><td class="" style="width:10%;"><div >' + horarioFim[i] + '</div></td></tr>';


                listContent = listContent + newVehicle;
                //                        $("#vehiclesList").html( listContent );





                //                        setTimeout(testeRelogio[i].cronometro, 1000);
              }


              //                    console.log(testeRelogio[i].id);
            }
            $("#vehiclesList").html(listContent);
            //                var listaIds = window.localStorage.getItem("vehicles");
            //                console.log(listaIds);

          }

          //                for( var i = 0; i < response.list.length; i ++) {
          //                    
          //                    testeRelogio[i].cronometro();
          //                    console.log(testeRelogio[i].cronometro());
          //                
          //                }
        }

      }
    });



    function logout() {
      window.localStorage.clear();
      window.location.href = "index.html";
    }

    $(document).ready(function () {



      $('#boxPark').click(function (e) {
        window.location.href = "search.html";
      });
      $('#boxCredits').click(function (e) {
        window.location.href = "deposit.html";
      });
      $('#boxVehicles').click(function (e) {
        window.location.href = "vehicles.html";
      });
      $('#boxProfile').click(function (e) {
        window.location.href = "profile.html";
      });
    });

    $(document).ready(function () {
      var requestURL = 'https://transitabile.com.br/api.php?userid=' + window.localStorage.getItem("id") + '&type=getBalance';
      console.log("Get Balance: " + requestURL);
      $.ajax({
          url: requestURL
          , type: 'GET'
          , success: function (data) {
            var response = $.parseJSON(data);
            console.log(response);
            if (response.status == "failed") {
              console.log("Get Balance: " + response.balance);
            //alert(response.message);
            }
            if (response.status == "success") {
              console.log("Get Balance: " + response.balance);
              window.localStorage.setItem("balance", response.balance);
              $("#balanceValue").html("R$ " + window.localStorage.getItem("balance"));
            }
        }
      });
      return false;
    });

  </script>
  <!-- Bootstrap 3.3.7 -->
  <script src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>

  <!-- Morris.js charts -->
  <script src="bower_components/raphael/raphael.min.js"></script>
  <script src="bower_components/morris.js/morris.min.js"></script>
  <!-- Sparkline -->
  <script src="bower_components/jquery-sparkline/dist/jquery.sparkline.min.js"></script>
  <!-- jvectormap -->
  <script src="plugins/jvectormap/jquery-jvectormap-1.2.2.min.js"></script>
  <script src="plugins/jvectormap/jquery-jvectormap-world-mill-en.js"></script>
  <!-- jQuery Knob Chart -->
  <script src="bower_components/jquery-knob/dist/jquery.knob.min.js"></script>
  <!-- daterangepicker -->
  <script src="bower_components/moment/min/moment.min.js"></script>
  <script src="bower_components/bootstrap-daterangepicker/daterangepicker.js"></script>
  <!-- datepicker -->
  <script src="bower_components/bootstrap-datepicker/dist/js/bootstrap-datepicker.min.js"></script>
  <!-- Bootstrap WYSIHTML5 -->
  <script src="plugins/bootstrap-wysihtml5/bootstrap3-wysihtml5.all.min.js"></script>
  <!-- Slimscroll -->
  <script src="bower_components/jquery-slimscroll/jquery.slimscroll.min.js"></script>
  <!-- FastClick -->
  <script src="bower_components/fastclick/lib/fastclick.js"></script>
  <!-- AdminLTE App -->
  <script src="dist/js/adminlte.min.js"></script>
  <!-- AdminLTE dashboard demo (This is only for demo purposes) -->
  <script src="dist/js/pages/dashboard.js"></script>
  <!-- AdminLTE for demo purposes -->
  <script src="dist/js/demo.js"></script>


  <div class="daterangepicker dropdown-menu ltr opensleft">
    <div class="calendar left">
      <div class="daterangepicker_input">
        <input class="input-mini form-control" type="text" name="daterangepicker_start" value="">
        <i class="fa fa-calendar glyphicon glyphicon-calendar"></i>
        <div class="calendar-time" style="display: none;">
          <div></div>
          <i class="fa fa-clock-o glyphicon glyphicon-time"></i>
        </div>
      </div>
      <div class="calendar-table"></div>
    </div>
    <div class="calendar right">
      <div class="daterangepicker_input">
        <input class="input-mini form-control" type="text" name="daterangepicker_end" value="">
        <i class="fa fa-calendar glyphicon glyphicon-calendar"></i>
        <div class="calendar-time" style="display: none;">
          <div></div>
          <i class="fa fa-clock-o glyphicon glyphicon-time"></i>
        </div>
      </div>
      <div class="calendar-table"></div>
    </div>
    <div class="ranges">
      <ul>
        <li data-range-key="Today">Today</li>
        <li data-range-key="Yesterday">Yesterday</li>
        <li data-range-key="Last 7 Days">Last 7 Days</li>
        <li data-range-key="Last 30 Days">Last 30 Days</li>
        <li data-range-key="This Month">This Month</li>
        <li data-range-key="Last Month">Last Month</li>
        <li data-range-key="Custom Range">Custom Range</li>
      </ul>
      <div class="range_inputs">
        <button class="applyBtn btn btn-sm btn-success" disabled="disabled" type="button">Apply</button>
        <button class="cancelBtn btn btn-sm btn-default" type="button">Cancel</button>
      </div>
    </div>
  </div>
  <div class="jvectormap-label"></div>
  <div class="jvectormap-label"></div>
  <div class="jvectormap-label"></div>
  <div class="jvectormap-label"></div>
  <div class="jvectormap-label"></div>
  <div class="jvectormap-label"></div>
  <div class="jvectormap-label"></div>
  <div class="jvectormap-label"></div>
  <div class="jvectormap-label"></div>
  <div class="jvectormap-label"></div>
  <div class="jvectormap-label"></div>
  <div class="jvectormap-label"></div>
  <div class="jvectormap-label"></div>
</body>

</html>